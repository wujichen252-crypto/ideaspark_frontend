# 前端工程化改进清单

基于代码审查整理的优化计划，遵循“高内聚、低耦合”原则，旨在提升项目可维护性与扩展性。

## 🔴 P0：基础设施与规范（最优先）
**目标**：夯实项目基础，统一团队开发规范，避免后续冲突。

### 1. 配置 ESLint 与 Prettier
- **现状**：根目录缺失 `.eslintrc.js` / `eslint.config.js` 及 `.prettierrc`，导致代码风格不统一。
- **行动**：
  - [ ] 安装并配置 ESLint（推荐 `antfu/eslint-config` 或 Standard 规范）。
  - [ ] 配置 `.prettierrc` 统一缩进、引号、分号等格式。
  - [ ] 启用 VSCode 保存自动格式化。

### 2. 完善 package.json 元信息
- **现状**：`name` 仅为 "frontend"，缺少项目描述、作者、仓库地址等。
- **行动**：
  - [ ] 补充 `description`, `author`, `repository`, `engines` 等字段。
  - [ ] 检查并移除无用的 `devDependencies`。

### 3. 全局样式与变量自动注入
- **现状**：`variables.scss` 和 `mixins.scss` 需手动引入，开发效率低。
- **行动**：
  - [ ] 在 `vite.config.ts` 中配置 CSS `preprocessorOptions.additionalData`，实现全局变量自动注入。

---

## 🟠 P1：架构与模块化（核心优化）
**目标**：降低模块耦合度，提升代码可读性与复用率。

### 4. 路由模块化拆分
- **现状**：`src/router/index.ts` 单文件包含所有路由，随着业务增长将难以维护。
- **行动**：
  - [ ] 创建 `src/router/modules/` 目录。
  - [ ] 按业务域拆分路由文件（如 `user.ts`, `project.ts`, `community.ts`）。
  - [ ] 在 `index.ts` 中实现模块的自动导入或统一聚合。

### 5. API 请求层增强
- **现状**：`request.ts` 缺少 Token 自动注入逻辑，错误处理仅打印日志。
- **行动**：
  - [ ] 恢复并完善 Token 注入逻辑（对接 Pinia UserStore）。
  - [ ] 引入 UI 库的 Message 组件，在拦截器中实现全局错误提示（如 401 跳转登录、500 报错）。
  - [ ] 规范 `Result<T>` 类型定义，杜绝 `any`。

### 6. 巨型组件拆分（HomeView）
- **现状**：`HomeView.vue` 包含大量动画逻辑与内联样式，代码臃肿。
- **行动**：
  - [ ] 拆分 `HeroSection`（首屏逻辑）。
  - [ ] 拆分 `ParallaxBackground`（视觉背景）。
  - [ ] 拆分 `ShootingStars`（动画特效）。
  - [ ] 保持页面组件作为容器，仅处理布局与数据流。

---

## 🟡 P2：代码质量与体验（长期维护）
**目标**：提升代码健壮性与开发体验。

### 7. 完善函数级注释
- **现状**：核心逻辑缺少 JSDoc 注释，可读性差。
- **行动**：
  - [ ] 为工具函数、API 接口、复杂组件 Props 添加标准注释（`@description`, `@param`, `@returns`）。

### 8. TypeScript 类型严格化
- **现状**：存在 `Result<T = any>` 等宽松定义。
- **行动**：
  - [ ] 消除隐式 `any`。
  - [ ] 为所有组件 Props/Emits 定义严格 Interface。
  - [ ] 完善 API 响应数据的类型定义。

### 9. 硬编码清理
- **现状**：页面存在大量写死的文案与样式数值。
- **行动**：
  - [ ] 提取文案至常量文件（为 i18n 做准备）。
  - [ ] 提取样式中的魔法数字为 SCSS 变量。
